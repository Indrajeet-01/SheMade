{% extends 'base.html' %}
{% load static %}

{% block css %}
<link rel="stylesheet" href="/static/css/product.css">
<style>
        .wishlist-button {
        
        position: absolute;
        top: 10px;
        right: 10px;
        
        border: none;
        cursor: pointer;
    }
    
    .fa-heart {
        color: aqua; font-size: 20px; 
    }
    
    .fa-heart:hover {
        color: red; /* Change to your desired color */
    }
</style>
{% endblock %}


{% block content %}
<section>
    <div class="container" style="margin: 30px 5% 0px 5%;">
        
        <div class="sub_cat">
            {% for product in products %}
            <div class="slider_box" style="box-shadow: 5px 10px #BA90C6; height: 400px; margin-bottom: 10px;">
                <a href="{% url 'product_detail' product.id product.description %}" class="cover-link">
                    <div class="product__images" >
                        {% for image in product.images.all %}
                        {% if forloop.first %}
                        <img src="{{ image.image_url }}" alt="Product Image" class="default-image">
                        {% elif forloop.last %}
                        <img src="{{ image.image_url }}" alt="Product Image" class="larger-image">
                        {% endif %}
                        {% endfor %}
                        <form method="post" action="{% url 'add_to_wishlist' item_id=product.id %}">
                            {% csrf_token %}
                            <button type="submit" class="wishlist-button" style="background: transparent;">
                                <i class="fa-solid fa-heart"></i>
                            </button>
                        </form>
                    </div>
                    <div class="name">
                        <h2 class="product__title">{{ product.name }}</h2>
                    </div>
                </a>
                <div class="price">
                    <span style="font-size: 20px;">â‚¹ {{ product.price }}</span>
                </div>
                <div class="add-to-cart-form">
                    <form method="post" action="{% url 'add_to_cart' item_id=product.id %}">
                        {% csrf_token %}
                            <button type="submit" class="add-to-cart-button" style="background-color: #82AAE3;">
                                Add to Cart
                            </button>
                    </form>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

{% endblock %}